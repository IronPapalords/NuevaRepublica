<h4>ALTA DE UNIDADES</h4>
<hr>
<form (ngSubmit)="guardar()" [formGroup]="unidadForm">
    <div class="form-group row">
        <label class="col-2 col-form-label">Serie</label>
        <div class="col-8">

            <input class="form-control" type="text" placeholder="Serie" formControlName="serie" [class.is-invalid]="isSerieInvalid">
            <small class="text-danger" *ngIf="isSerieInvalid">Ingrese la serie de la unidad</small>
        </div>
    </div>

    <div class="form-group row mt-2">
        <label class="col-2 col-form-label">Marca</label>
        <div class="col-8">

            <input class="form-control" type="text" placeholder="Marca" formControlName="marca" [class.is-invalid]="isMarcaInvalid">
            <small class="text-danger" *ngIf="isMarcaInvalid">Ingrese la marca de la unidad</small>
        </div>
    </div>


    <div class="form-group row mt-2">
        <label class="col-2 col-form-label">Placas</label>
        <div class="col-8">

            <input class="form-control" type="text" placeholder="Placas" formControlName="placas" [class.is-invalid]="isPlacasInvalid">
            <small class="text-danger" *ngIf="isPlacasInvalid">Ingrese las placas de la unidad</small>
        </div>
    </div>

    <div class="form-group row mt-2">
        <label class="col-2 col-form-label">Tipo</label>
        <div class="col-8">

            <input class="form-control" type="text" placeholder="Tipo" formControlName="tipo">
        </div>
    </div>

    <div class="form-group row mt-2">
        <label class="col-2 col-form-label">Kilometraje</label>
        <div class="col-8">

            <input class="form-control" type="text" placeholder="Kilometraje" formControlName="kilometraje" [class.is-invalid]="isKilometrajeInvalid">
            <small class="text-danger" *ngIf="isKilometrajeInvalid">Ingrese el kilometraje de la unidad</small>
        </div>
    </div>

    <div class="form-group row mt-5">
        <label class="col-2 col-form-label">Cilindros</label>
        <div class="col-8">
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">Serie</th>
                        <th scope="col">Marca</th>
                        <th scope="col">Capacidad</th>
                        <th scope="col">Fecha de Fabricación</th>
                        <th scope="col"></th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let cilindro of cilindros; let i = index">
                        <th scope="row">{{i+1}}</th>
                        <td>{{cilindro.serie}}</td>
                        <td>{{cilindro.marca}}</td>
                        <td>{{cilindro.capacidad}}</td>
                        <td>{{cilindro.fechaFabricacion | date:'dd/MM/yyyy'}}</td>
                        <td></td>
                    </tr>
                </tbody>
                <tfoot formGroupName="cilindro">
                    <tr>
                        <td></td>
                        <td><input class="form-control" type="text" placeholder="Serie" formControlName="serie" [class.is-invalid]="isCilindroSerieInvalid"></td>
                        <td><input class="form-control" type="text" placeholder="Marca" formControlName="marca" [class.is-invalid]="isCilindroMarcaInvalid"></td>
                        <td><input class="form-control" type="text" placeholder="Tipo" formControlName="capacidad"></td>
                        <td><input class="form-control" type="date" placeholder="Fecha de fabricación" formControlName="fechaFabricacion" [class.is-invalid]="isCilindroFechaFabricacionInvalid"></td>
                        <td><button type='button' (click)="agregarCilindro()" class="btn btn-outline-primary btn-block">Agregar</button></td>
                    </tr>
                </tfoot>
            </table>
        </div>
    </div>


    <div class="form-group row mt-2">
        <label class="col-2 col-form-label">&nbsp;</label>
        <div class="input-group col-md-8">
            <button type="submit" class="btn btn-outline-primary btn-block">Guardar</button>
        </div>
    </div>
</form>
